<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Simple Chat+</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="stylesheet" href="styles2.css" />
</head>

<body>

<header class="topbar">
  <div class="brand">Simple Chat+</div>
  <div class="spacer"></div>
  <button id="edit-profile-btn" class="btn ghost">Profile</button>
  <button id="logout-btn" class="btn ghost">Logout</button>
</header>

<main id="app" class="app" style="display:none;">

  <aside class="sidebar">
    <div class="section-title">Channels</div>
    <ul id="channels-list" class="list"></ul>

    <div style="display:flex;gap:8px;margin-top:8px;">
      <button id="add-channel-btn" class="btn ghost">+ Channel</button>
      <button id="delete-channel-btn" class="btn danger" style="display:none;">Delete</button>
    </div>

    <div class="section-title" style="margin-top:14px;">
      Online in <span id="room-name-label">#general</span>
    </div>
    <ul id="users-list" class="users"></ul>
  </aside>

  <section class="chat-area">
    <div class="chat-header">
      <div class="room-pill">
        <span id="room-pill-prefix">#</span>
        <span id="room-pill-name">general</span>
      </div>
      <div id="typing-indicator" class="typing" style="display:none;">Someone is typing…</div>
    </div>

    <div id="messages" class="messages"></div>

    <div class="composer">
      <button id="gif-btn" class="btn ghost">GIF</button>
      <button id="img-btn" class="btn ghost">IMG</button>
      <input id="image-upload" type="file" accept="image/*" style="display:none;" />
      <input id="user-input" placeholder="Write a message…" autocomplete="off" />
      <button id="send-btn" class="btn primary">Send</button>
    </div>
  </section>

</main>

<!-- Profile modal -->
<dialog id="profile-modal" class="modal">
  <form id="profile-form" class="modal-card">
    <h3>Your Profile</h3>

    <label>Username</label>
    <input id="profile-username" disabled />

    <label>Bubble Color</label>
    <input id="profile-color" type="color" />

    <label>Avatar</label>
    <div class="avatar-row">
      <img id="profile-preview" class="avatar preview" />
      <input id="profile-file" type="file" accept="image/*" />
    </div>

    <div class="row-right">
      <button id="profile-cancel" type="button" class="btn ghost">Cancel</button>
      <button id="profile-save" type="submit" class="btn primary">Save</button>
    </div>
  </form>
</dialog>

<!-- GIF modal -->
<dialog id="gif-modal" class="modal">
  <div class="modal-card">
    <h3>GIFs</h3>
    <div style="display:flex;gap:8px;">
      <input id="gif-search" placeholder="Search GIFs…" />
      <button id="gif-search-btn" class="btn">Search</button>
    </div>
    <div id="gif-grid" class="gif-grid"></div>
    <div class="row-right"><button id="gif-close" class="btn ghost">Close</button></div>
  </div>
</dialog>

<!-- Theme modal -->
<dialog id="theme-modal" class="modal">
  <div class="modal-card">
    <h3>Channel Theme</h3>
    <label>Background Color</label>
    <input id="theme-color" type="color" />

    <label>Background Image</label>
    <button id="upload-bg-btn" class="btn ghost">Upload</button>
    <input id="theme-image" type="file" accept="image/*" style="display:none;" />

    <div class="row-right" style="margin-top:10px;">
      <button id="theme-close" class="btn ghost">Cancel</button>
      <button id="theme-save" class="btn primary">Save</button>
    </div>
  </div>
</dialog>

<script type="module" src="chat.js"></script>
</body>
</html>
