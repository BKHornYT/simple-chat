<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Simple Chat+</title>
  <link rel="stylesheet" href="styles2.css"/>
</head>
<body>

  <header class="topbar">
    <div class="brand">Simple Chat</div>
    <div class="spacer"></div>
    <button id="edit-profile-btn" class="btn ghost">Profile</button>
  </header>

  <!-- Login -->
  <section id="auth-panel" class="card center">
    <h2>Choose a username</h2>
    <input id="username-input" placeholder="Username"/>
    <button id="join-btn" class="btn">Enter</button>
  </section>

  <!-- App -->
  <main id="app" class="app" style="display:none;">
    <aside class="sidebar">
      <div class="section-title">Channels</div>
      <ul id="channels-list" class="list"></ul>
      <div class="row gap6">
        <button id="add-channel-btn" class="btn ghost">+ Add Channel</button>
        <button id="delete-channel-btn" class="btn ghost danger" title="Delete this channel (owner only)">Delete</button>
      </div>

      <div class="section-title" style="margin-top:14px;">Online in <span id="room-name-label">global</span></div>
      <ul id="users-list" class="users"></ul>
    </aside>

    <section class="chat-area">
      <div class="chat-header">
        <div class="room-pill"># <span id="room-pill-name">global</span></div>
        <div id="typing-indicator" class="typing" style="display:none;">Someone is typing…</div>
      </div>

      <div id="messages" class="messages"></div>

      <div class="composer">
        <button id="gif-btn" class="btn ghost" title="GIFs">GIF</button>
        <input id="user-input" placeholder="Type a message… (links auto-embed)" autocomplete="off"/>
        <button id="send-btn" class="btn primary">Send</button>
      </div>
    </section>
  </main>

  <!-- Profile modal -->
  <dialog id="profile-modal" class="modal">
    <form method="dialog" class="modal-card" id="profile-form">
      <h3>Edit Profile</h3>
      <label>Username</label><input id="profile-username"/>
      <label>Accent Color</label><input id="profile-color" type="color"/>
      <label>Profile picture</label>
      <div class="avatar-row">
        <img id="profile-preview" class="avatar preview" alt="preview"/>
        <input id="profile-file" type="file" accept="image/*"/>
      </div>
      <div class="row-right">
        <button id="profile-cancel" class="btn ghost" value="cancel">Cancel</button>
        <button id="profile-save" class="btn primary" value="default">Save</button>
      </div>
    </form>
  </dialog>

  <!-- GIF picker -->
  <dialog id="gif-modal" class="modal">
    <div class="modal-card">
      <h3>Search GIFs</h3>
      <div class="row gap6">
        <input id="gif-search" placeholder="Search Tenor…"/>
        <button id="gif-search-btn" class="btn">Search</button>
      </div>
      <div id="gif-grid" class="gif-grid"></div>
      <div class="row-right"><button id="gif-close" class="btn ghost">Close</button></div>
    </div>
  </dialog>

  <script type="module" src="chat.js"></script>
</body>
</html>
